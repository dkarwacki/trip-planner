---
description: 
globs: *.tsx, *.jsx, *.astro
alwaysApply: false
---
## Frontend

### General Guidelines

- Use Astro components (.astro) for static content and layout
- Implement framework components in React only when interactivity is needed

### Guidelines for Styling

#### Tailwind

- Use the @layer directive to organize styles into components, utilities, and base layers
- Use arbitrary values with square brackets (e.g., w-[123px]) for precise one-off designs
- Implement the Tailwind configuration file for customizing theme, plugins, and variants
- Leverage the theme() function in CSS for accessing Tailwind theme values
- Implement dark mode with the dark: variant
- Use responsive variants (sm:, md:, lg:, etc.) for adaptive designs
- Leverage state variants (hover:, focus:, active:, etc.) for interactive elements

### Guidelines for Accessibility

#### ARIA Best Practices

- Use ARIA landmarks to identify regions of the page (main, navigation, search, etc.)
- Apply appropriate ARIA roles to custom interface elements that lack semantic HTML equivalents
- Set aria-expanded and aria-controls for expandable content like accordions and dropdowns
- Use aria-live regions with appropriate politeness settings for dynamic content updates
- Implement aria-hidden to hide decorative or duplicative content from screen readers
- Apply aria-label or aria-labelledby for elements without visible text labels
- Use aria-describedby to associate descriptive text with form inputs or complex elements
- Implement aria-current for indicating the current item in a set, navigation, or process
- Avoid redundant ARIA that duplicates the semantics of native HTML elements

### Guidelines for Testing Selectors

#### Test ID Best Practices

- **ALWAYS add `data-testid` inside components**, not on external usage for maximum compatibility
- **Use kebab-case naming** for all test IDs (e.g., `data-testid="feature-grid"`)
- **Add test IDs to all interactive elements** (buttons, inputs, links, tabs, toggles)
- **Add test IDs to key containers** (layouts, panels, modals, drawers)
- **Add test IDs to state-dependent UI** (loading states, empty states, error displays)

#### Test ID Naming Conventions

- **Container elements**: `data-testid="component-name"` (e.g., `chat-interface`, `discover-panel`)
- **Action buttons**: `data-testid="action-description-button"` (e.g., `send-button`, `add-to-plan-button`)
- **State variants**: `data-testid="component-name-state"` (e.g., `discover-empty-state`, `conversation-list-loading`)
- **Navigation tabs**: `data-testid="tab-name"` or `data-testid="mode-tab-name"` (e.g., `tab-chat`, `mode-tab-discover`)
- **List items**: Parent has test ID, items identifiable through parent context
- **Modal/Dialog**: `data-testid="modal-name-dialog"` (e.g., `save-conversation-dialog`, `delete-confirmation-dialog`)

#### Examples

Good:
```tsx
// Inside component definition
export function ChatInterface() {
  return (
    <div data-testid="chat-interface">
      <button data-testid="send-button">Send</button>
    </div>
  );
}
```

Bad:
```tsx
// In parent component (reduces reusability)
<ChatInterface data-testid="chat-interface" />
```